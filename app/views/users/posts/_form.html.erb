<%= form_with(model: post, url: posts_or_post_path(post), local: true) do |form| %>
  <%= form.hidden_field(:status) %>
  <% if post.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(post.errors.count, "error") %> prohibited this users_post from being saved:</h2>

      <ul>
        <% post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <%= form.text_field(:title, class: 'form-control', placeholder: 'Title') %>
  </div>
  <div class="form-group">
    <%= form.text_field(:categories, class: 'form-control', placeholder: 'Categories') %>
  </div>
  <div class="form-group">
    <%= form.text_area(:content, class: 'form-control', placeholder: 'Content', rows: 30) %>
  </div>
  <div class="actions clearfix">
    <div class="btn-group dropup float-right">
      <%= form.submit('下書き保存', class: 'btn btn-primary btn-switch-value') %>
      <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="sr-only">Toggle Dropdown</span>
      </button>
      <div class="dropdown-menu">
        <%= switchable_dropdown_item('下書き保存', 'draft') %>
        <%= switchable_dropdown_item('限定共有投稿', 'restricted') %>
        <%= switchable_dropdown_item('Sample Blogに投稿', 'published') %>
      </div>
    </div>
  </div>
<% end %>
